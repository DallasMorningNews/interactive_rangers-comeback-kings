!function(){"use strict";function t(t){return t.split("").reverse().join("")}function e(t,e){return t.substring(0,e.length)===e}function n(t,e){return t.slice(-1*e.length)===e}function r(t,e,n){if((t[e]||t[n])&&t[e]===t[n])throw new Error(e)}function o(t){return"number"==typeof t&&isFinite(t)}function a(t,e){var n=Math.pow(10,e);return(Math.round(t*n)/n).toFixed(e)}function s(e,n,r,s,i,l,c,u,p,d,f,h){var m,g,v,x=h,w="",b="";return l&&(h=l(h)),!!o(h)&&(e!==!1&&0===parseFloat(h.toFixed(e))&&(h=0),h<0&&(m=!0,h=Math.abs(h)),e!==!1&&(h=a(h,e)),h=h.toString(),h.indexOf(".")!==-1?(g=h.split("."),v=g[0],r&&(w=r+g[1])):v=h,n&&(v=t(v).match(/.{1,3}/g),v=t(v.join(t(n)))),m&&u&&(b+=u),s&&(b+=s),m&&p&&(b+=p),b+=v,b+=w,i&&(b+=i),d&&(b=d(b,x)),b)}function i(t,r,a,s,i,l,c,u,p,d,f,h){var m,g="";return f&&(h=f(h)),!(!h||"string"!=typeof h)&&(u&&e(h,u)&&(h=h.replace(u,""),m=!0),s&&e(h,s)&&(h=h.replace(s,"")),p&&e(h,p)&&(h=h.replace(p,""),m=!0),i&&n(h,i)&&(h=h.slice(0,-1*i.length)),r&&(h=h.split(r).join("")),a&&(h=h.replace(a,".")),m&&(g+="-"),g+=h,g=g.replace(/[^0-9\.\-.]/g,""),""!==g&&(g=Number(g),c&&(g=c(g)),!!o(g)&&g))}function l(t){var e,n,o,a={};for(e=0;e<p.length;e+=1)if(n=p[e],o=t[n],void 0===o)"negative"!==n||a.negativeBefore?"mark"===n&&"."!==a.thousand?a[n]=".":a[n]=!1:a[n]="-";else if("decimals"===n){if(!(o>=0&&o<8))throw new Error(n);a[n]=o}else if("encoder"===n||"decoder"===n||"edit"===n||"undo"===n){if("function"!=typeof o)throw new Error(n);a[n]=o}else{if("string"!=typeof o)throw new Error(n);a[n]=o}return r(a,"mark","thousand"),r(a,"prefix","negative"),r(a,"prefix","negativeBefore"),a}function c(t,e,n){var r,o=[];for(r=0;r<p.length;r+=1)o.push(t[p[r]]);return o.push(n),e.apply("",o)}function u(t){return this instanceof u?void("object"==typeof t&&(t=l(t),this.to=function(e){return c(t,s,e)},this.from=function(e){return c(t,i,e)})):new u(t)}var p=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=u}(),$(document).ready(function(){function t(t,n){d3.select(n).html("");var r=d3.select(n).selectAll(".game-log").data(t);r.enter().append("span").attr("class",function(t){return t.one_run_win===!0?"game-log one-run-win":t.one_run_loss===!0?"game-log one-run-loss":"game-log"}).text(function(t){if(t.one_run_win===!0||t.one_run_loss===!0)return t.win_loss}),e(t,n)}function e(t,e){$(e+" .game-log").on("mouseenter",function(){var e=$(this).index(),n=($(this).offset().top,$(this).offset().left),r=$(window).width();$("#tool-tip").css("top",$(this).offset().top-10),n>r/2?$("#tool-tip").css({left:n-($("#tool-tip").outerWidth()+10)}):$("#tool-tip").css({right:"auto",left:n+25}),$("#game-date").text(t[e].game_date),$("#game-score").text(t[e].team+" "+t[e].runs+", "+t[e].opponent+" "+t[e].runs_against),$("#tool-tip").removeClass("no-show")}),$(e+" .game-log").on("mouseout",function(){$("#tool-tip").addClass("no-show")})}function n(t,e){for($(e).empty(),i=0;i<t.wins;i++)$(e).append("<span class='game-log one-run-win'>W</span>");for(i=0;i<t.losses;i++)$(e).append("<span class='game-log one-run-loss'>L</span>")}function r(t,e){$(e).empty();var n=0;for($.each(u,function(e,r){r.id===t&&(n=u[e].behindWins)}),i=0;i<n;i++)$(e).append("<span class='game-log one-run-win'>W</span>")}function o(t,e,n){$("#sim-chart .chart-body").html("");var r,o,a=[];$.each(e,function(e,n){n.one_run_win===!0&&(a.push(n),t[0].wins--,r=n.opponent,console.log(r),o=_.findIndex(t,function(t){return t.abbr==r}),console.log(o),o!==-1&&(console.log(t[o]),t[o].losses--)),n.one_run_loss===!0&&(a.push(n),t[0].losses--,r=n.opponent,o=_.findIndex(t,function(t){return t.abbr==r}),o!==-1&&(console.log("opp win",t[o]),t[o].wins--))}),n/=100,r="",o=0;var s=[];for($.each(a,function(e,a){var i=Math.random();i<=n?(s.push("win"),t[0].wins++,r=a.opponent,o=_.findIndex(t,function(t){return t.abbr==r}),o!==-1&&t[o].losses++):(s.push("loss"),t[0].losses++,r=a.opponent,o=_.findIndex(t,function(t){return t.abbr==r}),o!==-1&&t[o].wins++)}),i=0;i<s.length;i++)setTimeout(function(e){return function(){if("win"===s[e]?$("#sim-chart .chart-body").append("<span class='game-log one-run-win'>W</span>"):$("#sim-chart .chart-body").append("<span class='game-log one-run-loss'>L</span>"),e===s.length-1){t=_.orderBy(t,"wins","desc");var n=t[0].wins;$.each(t,function(t,e){var r=n-e.wins;e.games_behind=r,e.pct=(e.wins/(e.wins+e.losses)).toFixed(3).slice(1,5),$("#"+e.team+"-row").children("td").eq(1).text(e.wins),$("#"+e.team+"-row").children("td").eq(2).text(e.losses),$("#"+e.team+"-row").children("td").eq(3).text(e.pct),$("#"+e.team+"-row").children("td").eq(4).text(e.games_behind),$("#"+e.team+"-row").css("top","calc(29px * "+(t+1)+")")}),$("#sim-button").text("Re-run simulation").show()}}}(i),100*i)}function a(t,e,n,r,o,a,s,i,l,c){var u={top:10,right:20,bottom:50,left:50},p=$(o).width()-u.left-u.right,d=400,m=((p-u.left-u.right)/2,d3.scaleLinear().domain([0,d3.max(n,function(t){return t.lc_batting_average})]).range([0,p])),g=d3.scaleLinear().domain([0,d3.max(n,function(t){return t.lc_runs_produced})]).range([d,0]),v=d3.axisBottom(m).tickValues([.1,.2,.3,.4]).tickFormat(function(t){return f(t).slice(1)}).tickSize(-d),x=d3.axisLeft(g).ticks(6).tickSize(-p),w=d3.scaleLinear().domain([0,d3.max(i,function(t){return t.lc_inning_pitched})]).range([0,p]),b=d3.scaleLinear().domain([0,d3.max(i,function(t){return t.lc_era})]).range([d,0]),y=d3.axisBottom(w).ticks(6).tickSize(-d),S=d3.axisLeft(b).tickValues([2,4,6,8,10]).tickSize(-p).tickFormat(function(t){return h(t)}),_=d3.select(o).append("svg").attr("width",p+u.left+u.right).attr("height",d+u.top+u.bottom).append("g").attr("transform","translate("+u.left+","+u.top+")");_.append("rect").attr("x",m(r[0])).attr("y",0).attr("width",p-m(r[0])).attr("height",d-(d-g(r[1]))).attr("fill","rgb(225,225,225)"),_.append("g").attr("class","x axis").attr("id","axis-x").attr("transform","translate(0,"+d+")").call(v),_.append("g").attr("class","y axis").attr("id","axis-y").call(x),_.append("line").attr("x1",m(r[0])).attr("y1",0).attr("x2",m(r[0])).attr("y2",d).attr("stroke-width",2).attr("class","avgPAs").attr("stroke","#424242"),_.append("line").attr("x1",0).attr("y1",g(r[1])).attr("x2",p).attr("y2",g(r[1])).attr("stroke-width",2).attr("class","avgRunsProd").attr("stroke","#424242");_.selectAll(".dot").data(t).enter().append("circle").attr("cx",function(t){return m(t.lc_batting_average)}).attr("cy",function(t){return g(t.lc_runs_produced)}).attr("class","dot").attr("r",6),_.selectAll(".ranger").data(e).enter().append("circle").attr("cx",function(t){return m(t.lc_batting_average)}).attr("cy",function(t){return g(t.lc_runs_produced)}).attr("class","ranger").attr("r",6),_.selectAll(".ranger-label").data(e).enter().append("text").attr("text-anchor",function(t){return"Jurickson Profar"===t.player?"start":"end"}).attr("x",function(t){return"Jurickson Profar"===t.player?m(t.lc_batting_average)+8:m(t.lc_batting_average)-8}).attr("y",function(t){return"Mitch Moreland"===t.player||"Jurickson Profar"===t.player?g(t.lc_runs_produced)-4:g(t.lc_runs_produced)+4}).attr("class","ranger-label").text(function(t){var e=t.player.split(" ");return e[1]});_.append("text").attr("text-anchor","middle").attr("x",d/2*-1).attr("y",-40).attr("transform","rotate(-90)").attr("class","axis-label").text("Late and Close Runs Produced"),_.append("text").attr("text-anchor","middle").attr("y",d+30).attr("x",p/2).attr("class","axis-label").text("Late and Close Batting Avg.");var E=d3.select(c).append("svg").attr("width",p+u.left+u.right).attr("height",d+u.top+u.bottom).append("g").attr("transform","translate("+u.left+","+u.top+")");E.append("rect").attr("x",w(l[0])).attr("y",b(l[1])).attr("width",p-w(l[0])).attr("height",d-b(l[1])).attr("fill","rgb(225,225,225)"),E.append("g").attr("class","x axis").attr("id","axis-x").attr("transform","translate(0,"+d+")").call(y),E.append("g").attr("class","y axis").attr("id","axis-y").call(S),E.append("line").attr("x1",w(l[0])).attr("y1",0).attr("x2",w(l[0])).attr("y2",d).attr("stroke-width",2).attr("class","avgIPs").attr("stroke","#424242"),E.append("line").attr("x1",0).attr("y1",b(l[1])).attr("x2",p).attr("y2",b(l[1])).attr("stroke-width",2).attr("class","avgERA").attr("stroke","#424242");E.selectAll(".dot").data(a).enter().append("circle").attr("cx",function(t){return w(t.lc_inning_pitched)}).attr("cy",function(t){return b(t.lc_era)}).attr("class","dot").attr("r",6),E.selectAll(".ranger").data(s).enter().append("circle").attr("cx",function(t){return w(t.lc_inning_pitched)}).attr("cy",function(t){return b(t.lc_era)}).attr("class","ranger").attr("r",6),E.selectAll(".ranger-label").data(s).enter().append("text").attr("text-anchor",function(t){return"Tony Barnette"===t.player?"end":"start"}).attr("x",function(t){return"Tony Barnette"===t.player?w(t.lc_inning_pitched)-8:w(t.lc_inning_pitched)+8}).attr("y",function(t){return b(t.lc_era)+4}).attr("class","ranger-label").text(function(t){var e=t.player.split(" ");return e[1]});E.append("text").attr("text-anchor","middle").attr("x",d/2*-1).attr("y",-40).attr("transform","rotate(-90)").attr("class","axis-label").text("Late and Close ERA"),E.append("text").attr("text-anchor","middle").attr("y",d+30).attr("x",p/2).attr("class","axis-label").text("Late and Close Inn. Pitched (Min: 10)"),d3.selectAll(".late-li").on("click",function(){d3.selectAll(".custom-list").classed("no-show",!0);var e=[],n=[],r=d3.select(this).attr("data-team"),o=d3.select(this).text();d3.select(".late-team").text(o),"ALL"===r?(e=t,n=a):($.each(t,function(t,n){n.team===r&&e.push(n)}),$.each(a,function(t,e){e.team===r&&n.push(e)})),_.selectAll(".dot").data(e).transition().duration(500).attr("cx",function(t){return m(t.lc_batting_average)}).attr("cy",function(t){return g(t.lc_runs_produced)}).attr("class",function(t){return"dot"}),_.selectAll(".dot").data(e).enter().append("circle").attr("class","dot").attr("cx",function(t){return m(t.lc_batting_average)}).attr("cy",function(t){return g(t.lc_runs_produced)}).attr("class",function(t){return"dot"}).attr("r",5).attr("fill","red"),_.selectAll(".dot").data(e).exit().remove(),E.selectAll(".dot").data(n).transition().duration(500).attr("cx",function(t){return w(t.lc_inning_pitched)}).attr("cy",function(t){return b(t.lc_era)}).attr("class",function(t){return"TEX"===t.team?"dot ranger":"dot"}),E.selectAll(".dot").data(n).enter().append("circle").attr("class","dot").attr("cx",function(t){return w(t.lc_inning_pitched)}).attr("cy",function(t){return b(t.lc_era)}).attr("class",function(t){return"TEX"===t.team?"dot ranger":"dot"}).attr("r",5).attr("fill","red"),E.selectAll(".dot").data(n).exit().remove()})}var s,l=new Date,c=l.getFullYear();$(".copyright").text(c);var u,p=77;$(document).click(function(){$(".custom-list").addClass("no-show")}),$.getJSON("assets/python-scripts/json/rangers-game-logs.json",function(e){var r={wins:0,losses:0};$.each(e,function(t,e){e.one_run_win===!0?r.wins++:e.one_run_loss===!0&&r.losses++}),s=e,t(e,"#tex-game-log-chart"),n(r,"#tex-wins-losses")}),$.getJSON("assets/python-scripts/json/team-skeds/LAA-game-logs.json",function(e){var r={wins:0,losses:0};$.each(e,function(t,e){e.one_run_win===!0?r.wins++:e.one_run_loss===!0&&r.losses++}),$("#opp-total").text(r.wins+"-"+r.losses),t(e,"#opp-game-log-chart"),n(r,"#opp-wins-losses")}),$.getJSON("assets/python-scripts/json/ninthInning.json",function(t){u=t,r("LAA","#opp-ninth-wins"),r("TEX","#tex-ninth-wins")}),$("#sim-button").click(function(){var t=[{team:"rangers",abbr:"TEX",wins:95,losses:67},{team:"mariners",abbr:"SEA",wins:86,losses:76},{team:"astros",abbr:"HOU",wins:84,losses:78},{team:"angels",abbr:"LAA",wins:74,losses:88},{team:"athletics",abbr:"OAK",wins:69,losses:93}];$("#sim-button").hide(),o(t,s,p)}),$("#opponents-selector").click(function(t){t.stopPropagation(),$("#opponents-selector").siblings("ul").removeClass("no-show")}),$("#opponents-selector").siblings("ul").children("li").on("click",function(e){e.stopPropagation(),selectedTeam=$(this).attr("data-team"),mascot=$(this).text(),$(this).parents("ul").addClass("no-show"),$("#opponents-selector .team").text(mascot+": "),$.getJSON("assets/python-scripts/json/team-skeds/"+selectedTeam+"-game-logs.json",function(e){var r={wins:0,losses:0};$.each(e,function(t,e){e.one_run_win===!0?r.wins++:e.one_run_loss===!0&&r.losses++}),$("#opp-total").text(r.wins+"-"+r.losses),t(e,"#opp-game-log-chart"),n(r,"#opp-wins-losses")}),r(selectedTeam,"#opp-ninth-wins")});var d=document.getElementById("slider");noUiSlider.create(d,{start:[77],range:{min:[0],max:[100]},format:wNumb({decimals:0})}),d.noUiSlider.on("update",function(t,e){p=t[e],$("#slider-value").text(p+"%").css("left",p+"%")});var f=d3.format(".03f"),h=d3.format(".02f");$("#late-selector").click(function(t){t.stopPropagation(),$("#late-selector").siblings("ul").removeClass("no-show")}),$("#late-selector li").click(function(t){$("#late-selector ul").addClass("no-show")});var m=[],g=[],v=[],x=[],w=[],b=[],y=[],S=[],E=0;$.getJSON("assets/python-scripts/json/runs-late-and-close.json",function(t){m=t;var e=0,n=0,r=0;$.each(t,function(t,o){"TEX"!==o.team?v.push(o):x.push(o),e+=o.lc_hits,n+=o.lc_ab,r+=o.lc_runs_produced});var o=r/t.length,s=e/n;y[1]=o,y[0]=s,E++,2===E&&a(v,x,m,y,"#late-and-close-hitting",w,b,g,S,"#late-and-close-pitching")}),$.getJSON("assets/python-scripts/json/pitchers-late-and-close.json",function(t){g=t;var e=0,n=0,r=0;$.each(t,function(t,o){"TEX"!==o.team?w.push(o):b.push(o);var a=Math.floor(o.lc_inning_pitched),s=Math.floor(10*(o.lc_inning_pitched-a));e+=o.lc_earned_runs,n+=a,r+=s});var o=3*n+r,s=o/3,i=9*(e/s);i=Math.round(100*i)/100;var l=s/t.length;S[0]=l,S[1]=i,E++,2===E&&a(v,x,m,y,"#late-and-close-hitting",w,b,g,S,"#late-and-close-pitching")})}),!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t,e){var n=document.createElement("div");return c(n,e),t.appendChild(n),n}function e(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function n(t,e){return Math.round(t/e)*e}function r(t,e){var n=t.getBoundingClientRect(),r=t.ownerDocument,o=r.documentElement,a=d();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),e?n.top+a.y-o.clientTop:n.left+a.x-o.clientLeft}function o(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function a(t,e,n){n>0&&(c(t,e),setTimeout(function(){u(t,e)},n))}function s(t){return Math.max(Math.min(t,100),0)}function i(t){return Array.isArray(t)?t:[t]}function l(t){t=String(t);var e=t.split(".");return e.length>1?e[1].length:0}function c(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function p(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function d(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||""),n=t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,r=t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:r}}function f(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function h(t,e){return 100/(e-t)}function m(t,e){return 100*e/(t[1]-t[0])}function g(t,e){return m(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function v(t,e){return e*(t[1]-t[0])/100+t[0]}function x(t,e){for(var n=1;t>=e[n];)n+=1;return n}function w(t,e,n){if(n>=t.slice(-1)[0])return 100;var r,o,a,s,i=x(n,t);return r=t[i-1],o=t[i],a=e[i-1],s=e[i],a+g([r,o],n)/h(a,s)}function b(t,e,n){if(n>=100)return t.slice(-1)[0];var r,o,a,s,i=x(n,e);return r=t[i-1],o=t[i],a=e[i-1],s=e[i],v([r,o],(n-a)*h(a,s))}function y(t,e,r,o){if(100===o)return o;var a,s,i=x(o,t);return r?(a=t[i-1],s=t[i],o-a>(s-a)/2?s:a):e[i-1]?t[i-1]+n(o-t[i-1],e[i-1]):o}function S(t,e,n){var r;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(r="min"===t?0:"max"===t?100:parseFloat(t),!o(r)||!o(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(r),n.xVal.push(e[0]),r?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1]),n.xHighestCompleteStep.push(0)}function _(t,e,n){if(!e)return!0;n.xSteps[t]=m([n.xVal[t],n.xVal[t+1]],e)/h(n.xPct[t],n.xPct[t+1]);var r=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],o=Math.ceil(Number(r.toFixed(3))-1),a=n.xVal[t]+n.xNumSteps[t]*o;n.xHighestCompleteStep[t]=a}function E(t,e,n,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e,this.direction=n;var o,a=[];for(o in t)t.hasOwnProperty(o)&&a.push([t[o],o]);for(a.length&&"object"==typeof a[0][0]?a.sort(function(t,e){return t[0][0]-e[0][0]}):a.sort(function(t,e){return t[0]-e[0]}),o=0;o<a.length;o++)S(a[o][1],a[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)_(o,this.xNumSteps[o],this)}function C(t,e){if(!o(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function $(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new E(e,t.snap,t.dir,t.singleStep)}function k(t,e){if(e=i(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function N(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function A(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function P(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function L(t,e){var n,r=[!1];if(e===!0||e===!1){for(n=1;n<t.handles;n++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=e}t.connect=r}function U(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function M(t,e){if(!o(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function O(t,e){if(!o(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function V(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function j(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,o=e.indexOf("fixed")>=0,a=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0;if(o){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");M(t,t.start[1]-t.start[0])}t.events={tap:n||a,drag:r,fixed:o,snap:a,hover:s}}function F(t,e){if(e!==!1)if(e===!0){t.tooltips=[];for(var n=0;n<t.handles;n++)t.tooltips.push(!0)}else{if(t.tooltips=i(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function z(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function T(t,e){if(void 0!==e&&"string"!=typeof e&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function H(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(var n in e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n])}else t.cssClasses=e}function q(t,e){if(e!==!0&&e!==!1)throw new Error("noUiSlider: 'useRequestAnimationFrame' option should be true (default) or false.");t.useRequestAnimationFrame=e}function B(t){var e,n={margin:0,limit:0,animate:!0,animationDuration:300,format:I};e={step:{r:!1,t:C},start:{r:!0,t:k},connect:{r:!0,t:L},direction:{r:!0,t:V},snap:{r:!1,t:N},animate:{r:!1,t:A},animationDuration:{r:!1,t:P},range:{r:!0,t:$},orientation:{r:!1,t:U},margin:{r:!1,t:M},limit:{r:!1,t:O},behaviour:{r:!0,t:j},format:{r:!1,t:z},tooltips:{r:!1,t:F},cssPrefix:{r:!1,t:T},cssClasses:{r:!1,t:H},useRequestAnimationFrame:{r:!1,t:q}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(e).forEach(function(o){if(void 0===t[o]&&void 0===r[o]){if(e[o].r)throw new Error("noUiSlider: '"+o+"' is required.");return!0}e[o].t(n,void 0===t[o]?r[o]:t[o])}),n.pips=t.pips;var o=[["left","top"],["right","bottom"]];return n.style=o[n.dir][n.ort],n.styleOposite=o[n.dir?0:1][n.ort],n}function R(n,o,l){function h(e,n){var r=t(e,o.cssClasses.origin),a=t(r,o.cssClasses.handle);return a.setAttribute("data-handle",n),r}function m(e,n){return!!n&&t(e,o.cssClasses.connect)}function g(t,e){et=[],nt=[],nt.push(m(e,t[0]));for(var n=0;n<o.handles;n++)et.push(h(e,n)),it[n]=n,nt.push(m(e,t[n+1]))}function v(e){c(e,o.cssClasses.target),0===o.dir?c(e,o.cssClasses.ltr):c(e,o.cssClasses.rtl),0===o.ort?c(e,o.cssClasses.horizontal):c(e,o.cssClasses.vertical),tt=t(e,o.cssClasses.base)}function x(e,n){return!!o.tooltips[n]&&t(e.firstChild,o.cssClasses.tooltip)}function w(){var t=et.map(x);G("update",function(e,n,r){if(t[n]){var a=e[n];o.tooltips[n]!==!0&&(a=o.tooltips[n].to(r[n])),t[n].innerHTML=a}})}function b(t,e,n){if("range"===t||"steps"===t)return lt.xVal;if("count"===t){var r,o=100/(e-1),a=0;for(e=[];(r=a++*o)<=100;)e.push(r);t="positions"}return"positions"===t?e.map(function(t){return lt.fromStepping(n?lt.getStep(t):t)}):"values"===t?n?e.map(function(t){return lt.fromStepping(lt.getStep(lt.toStepping(t)))}):e:void 0}function y(t,n,r){function o(t,e){return(t+e).toFixed(7)/1}var a={},s=lt.xVal[0],i=lt.xVal[lt.xVal.length-1],l=!1,c=!1,u=0;return r=e(r.slice().sort(function(t,e){return t-e})),r[0]!==s&&(r.unshift(s),l=!0),r[r.length-1]!==i&&(r.push(i),c=!0),r.forEach(function(e,s){var i,p,d,f,h,m,g,v,x,w,b=e,y=r[s+1];if("steps"===n&&(i=lt.xNumSteps[s]),i||(i=y-b),b!==!1&&void 0!==y)for(i=Math.max(i,1e-7),p=b;p<=y;p=o(p,i)){for(f=lt.toStepping(p),h=f-u,v=h/t,x=Math.round(v),w=h/x,d=1;d<=x;d+=1)m=u+d*w,a[m.toFixed(5)]=["x",0];g=r.indexOf(p)>-1?1:"steps"===n?2:0,!s&&l&&(g=0),p===y&&c||(a[f.toFixed(5)]=[p,g]),u=f}}),a}function S(t,e,n){function r(t,e){var n=e===o.cssClasses.value,r=n?d:f,a=n?u:p;return e+" "+r[o.ort]+" "+a[t]}function a(t,e,n){return'class="'+r(n[1],e)+'" style="'+o.style+": "+t+'%"'}function s(t,r){r[1]=r[1]&&e?e(r[0],r[1]):r[1],l+="<div "+a(t,o.cssClasses.marker,r)+"></div>",r[1]&&(l+="<div "+a(t,o.cssClasses.value,r)+">"+n.to(r[0])+"</div>")}var i=document.createElement("div"),l="",u=[o.cssClasses.valueNormal,o.cssClasses.valueLarge,o.cssClasses.valueSub],p=[o.cssClasses.markerNormal,o.cssClasses.markerLarge,o.cssClasses.markerSub],d=[o.cssClasses.valueHorizontal,o.cssClasses.valueVertical],f=[o.cssClasses.markerHorizontal,o.cssClasses.markerVertical];return c(i,o.cssClasses.pips),c(i,0===o.ort?o.cssClasses.pipsHorizontal:o.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){s(e,t[e])}),i.innerHTML=l,i}function _(t){var e=t.mode,n=t.density||1,r=t.filter||!1,o=t.values||!1,a=t.stepped||!1,s=b(e,o,a),i=y(n,e,s),l=t.format||{to:Math.round};return at.appendChild(S(i,r,l))}function E(){var t=tt.getBoundingClientRect(),e="offset"+["Width","Height"][o.ort];return 0===o.ort?t.width||tt[e]:t.height||tt[e]}function C(t,e,n,r){var a=function(e){return!at.hasAttribute("disabled")&&!p(at,o.cssClasses.tap)&&(e=$(e,r.pageOffset),!(t===ot.start&&void 0!==e.buttons&&e.buttons>1)&&(!r.hover||!e.buttons)&&(e.calcPoint=e.points[o.ort],void n(e,r)))},s=[];return t.split(" ").forEach(function(t){e.addEventListener(t,a,!1),s.push([t,a])}),s}function $(t,e){t.preventDefault();var n,r,o=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer"),i=t;if(0===t.type.indexOf("MSPointer")&&(s=!0),o){if(i.touches.length>1)return!1;n=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY}return e=e||d(),(a||s)&&(n=t.clientX+e.x,r=t.clientY+e.y),i.pageOffset=e,i.points=[n,r],i.cursor=a||s,i}function k(t){var e=t-r(tt,o.ort),n=100*e/E();return o.dir?100-n:n}function N(t){var e=100,n=!1;return et.forEach(function(r,o){if(!r.hasAttribute("disabled")){var a=Math.abs(st[o]-t);a<e&&(n=o,e=a)}}),n}function A(t,e,n,r){var o=n.slice(),a=[!t,t],s=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach(function(t,n){var r=z(o,t,o[t]+e,a[n],s[n]);r===!1?e=0:(e=r-o[t],o[t]=r)}):a=s=[!0];var i=!1;r.forEach(function(t,r){i=R(t,n[t]+e,a[r],s[r])||i}),i&&r.forEach(function(t){P("update",t),P("slide",t)})}function P(t,e,n){Object.keys(ut).forEach(function(r){var a=r.split(".")[0];t===a&&ut[r].forEach(function(t){t.call(rt,ct.map(o.format.to),e,ct.slice(),n||!1,st.slice())})})}function L(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&M(t,e)}function U(t,e){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===t.buttons&&0!==e.buttonsProperty)return M(t,e);var n=(o.dir?-1:1)*(t.calcPoint-e.startCalcPoint),r=100*n/e.baseSize;A(n>0,r,e.locations,e.handleNumbers)}function M(t,e){var n=tt.querySelector("."+o.cssClasses.active);null!==n&&u(n,o.cssClasses.active),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(t){document.documentElement.removeEventListener(t[0],t[1])}),u(at,o.cssClasses.drag),q(),e.handleNumbers.forEach(function(t){P("set",t),P("change",t),P("end",t)})}function O(t,e){if(1===e.handleNumbers.length){var n=et[e.handleNumbers[0]];if(n.hasAttribute("disabled"))return!1;c(n.children[0],o.cssClasses.active)}t.preventDefault(),t.stopPropagation();var r=C(ot.move,document.documentElement,U,{startCalcPoint:t.calcPoint,baseSize:E(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:st.slice()}),a=C(ot.end,document.documentElement,M,{handleNumbers:e.handleNumbers}),s=C("mouseout",document.documentElement,L,{handleNumbers:e.handleNumbers});if(document.documentElement.noUiListeners=r.concat(a,s),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,et.length>1&&c(at,o.cssClasses.drag);var i=function(){return!1};document.body.noUiListener=i,document.body.addEventListener("selectstart",i,!1)}e.handleNumbers.forEach(function(t){P("start",t)})}function V(t){t.stopPropagation();var e=k(t.calcPoint),n=N(e);return n!==!1&&(o.events.snap||a(at,o.cssClasses.tap,o.animationDuration),R(n,e,!0,!0),q(),P("slide",n,!0),P("set",n,!0),P("change",n,!0),P("update",n,!0),void(o.events.snap&&O(t,{handleNumbers:[n]})))}function j(t){var e=k(t.calcPoint),n=lt.getStep(e),r=lt.fromStepping(n);Object.keys(ut).forEach(function(t){"hover"===t.split(".")[0]&&ut[t].forEach(function(t){t.call(rt,r)})})}function F(t){t.fixed||et.forEach(function(t,e){C(ot.start,t.children[0],O,{handleNumbers:[e]})}),t.tap&&C(ot.start,tt,V,{}),t.hover&&C(ot.move,tt,j,{hover:!0}),t.drag&&nt.forEach(function(e,n){if(e!==!1&&0!==n&&n!==nt.length-1){var r=et[n-1],a=et[n],s=[e];c(e,o.cssClasses.draggable),t.fixed&&(s.push(r.children[0]),s.push(a.children[0])),s.forEach(function(t){C(ot.start,t,O,{handles:[r,a],handleNumbers:[n-1,n]})})}})}function z(t,e,n,r,a){return et.length>1&&(r&&e>0&&(n=Math.max(n,t[e-1]+o.margin)),a&&e<et.length-1&&(n=Math.min(n,t[e+1]-o.margin))),et.length>1&&o.limit&&(r&&e>0&&(n=Math.min(n,t[e-1]+o.limit)),a&&e<et.length-1&&(n=Math.max(n,t[e+1]-o.limit))),n=lt.getStep(n),n=s(n),n!==t[e]&&n}function T(t){return t+"%"}function H(t,e){st[t]=e,ct[t]=lt.fromStepping(e);var n=function(){et[t].style[o.style]=T(e),D(t),D(t+1)};window.requestAnimationFrame&&o.useRequestAnimationFrame?window.requestAnimationFrame(n):n()}function q(){it.forEach(function(t){var e=st[t]>50?-1:1,n=3+(et.length+e*t);et[t].childNodes[0].style.zIndex=n})}function R(t,e,n,r){return e=z(st,t,e,n,r),e!==!1&&(H(t,e),!0)}function D(t){if(nt[t]){var e=0,n=100;0!==t&&(e=st[t-1]),t!==nt.length-1&&(n=st[t]),nt[t].style[o.style]=T(e),nt[t].style[o.styleOposite]=T(100-n)}}function I(t,e){null!==t&&t!==!1&&("number"==typeof t&&(t=String(t)),t=o.format.from(t),t===!1||isNaN(t)||R(e,lt.toStepping(t),!1,!1))}function X(t,e){var n=i(t),r=void 0===st[0];e=void 0===e||!!e,n.forEach(I),o.animate&&!r&&a(at,o.cssClasses.tap,o.animationDuration),it.forEach(function(t){R(t,st[t],!0,!1)}),q(),it.forEach(function(t){P("update",t),null!==n[t]&&e&&P("set",t)})}function J(t){X(o.start,t)}function W(){var t=ct.map(o.format.to);return 1===t.length?t[0]:t}function Y(){for(var t in o.cssClasses)o.cssClasses.hasOwnProperty(t)&&u(at,o.cssClasses[t]);for(;at.firstChild;)at.removeChild(at.firstChild);delete at.noUiSlider}function K(){return st.map(function(t,e){var n=lt.getNearbySteps(t),r=ct[e],o=n.thisStep.step,a=null;o!==!1&&r+o>n.stepAfter.startValue&&(o=n.stepAfter.startValue-r),a=r>n.thisStep.startValue?n.thisStep.step:n.stepBefore.step!==!1&&r-n.stepBefore.highestStep,100===t?o=null:0===t&&(a=null);var s=lt.countStepDecimals();return null!==o&&o!==!1&&(o=Number(o.toFixed(s))),null!==a&&a!==!1&&(a=Number(a.toFixed(s))),[a,o]})}function G(t,e){ut[t]=ut[t]||[],ut[t].push(e),"update"===t.split(".")[0]&&et.forEach(function(t,e){P("update",e)})}function Q(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(ut).forEach(function(t){var r=t.split(".")[0],o=t.substring(r.length);e&&e!==r||n&&n!==o||delete ut[t]})}function Z(t,e){var n=W(),r=["margin","limit","range","animate","snap","step","format"];r.forEach(function(e){void 0!==t[e]&&(l[e]=t[e])});var a=B(l);r.forEach(function(e){void 0!==t[e]&&(o[e]=a[e])}),a.spectrum.direction=lt.direction,lt=a.spectrum,o.margin=a.margin,o.limit=a.limit,st=[],X(t.start||n,e)}var tt,et,nt,rt,ot=f(),at=n,st=[],it=[],lt=o.spectrum,ct=[],ut={};if(at.noUiSlider)throw new Error("Slider was already initialized.");return v(at),g(o.connect,tt),rt={destroy:Y,steps:K,on:G,off:Q,get:W,set:X,reset:J,__moveHandles:function(t,e,n){A(t,e,st,n)},options:l,updateOptions:Z,target:at,pips:_},F(o.events),X(o.start),o.pips&&_(o.pips),o.tooltips&&w(),rt}function D(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=B(e,t),r=R(t,n,e);return t.noUiSlider=r,r}E.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t%e)throw new Error("noUiSlider: 'limit' and 'margin' must be divisible by step.");
return 2===this.xPct.length&&m(this.xVal,t)},E.prototype.toStepping=function(t){return t=w(this.xVal,this.xPct,t)},E.prototype.fromStepping=function(t){return b(this.xVal,this.xPct,t)},E.prototype.getStep=function(t){return t=y(this.xPct,this.xSteps,this.snap,t)},E.prototype.getNearbySteps=function(t){var e=x(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e-0],step:this.xNumSteps[e-0],highestStep:this.xHighestCompleteStep[e-0]}}},E.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(l);return Math.max.apply(null,t)},E.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var I={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{create:D}});
//# sourceMappingURL=scripts-bundle.js.map
